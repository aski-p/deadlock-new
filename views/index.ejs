<main class="main-container">
    <section class="hero-section">
        <h1 class="hero-title">ë°ë“œë½ ì½”ì¹˜ëŠ” ë°ë“œë½ì„ ë” ì¬ë°Œê²Œ í”Œë ˆì´í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤!</h1>
        <p class="hero-subtitle">ì ì  ì»¤ì§€ëŠ” ë°ë“œë½ ì½”ì¹˜ ì»¤ë®¤ë‹ˆí‹°ì— í•©ë¥˜í•´ì„œ ê²Œì„ì— ëŒ€í•´ ë” ë°°ìš°ê³  ì‹¤ë ¥ì„ í‚¤ì›Œë³´ì„¸ìš”. ì €í¬ ì»¨í…ì¸ ëŠ” ìµœì‹  ë¹Œë“œ ê¸°ë°˜ìœ¼ë¡œ ê³„ì† ì—…ë°ì´íŠ¸ë˜ê³  ìˆì–´ìš”.</p>
        
        <% if (!user) { %>
        <div class="hero-cta">
            <a href="/auth/steam" class="cta-button">Steamìœ¼ë¡œ ì‹œì‘í•˜ê¸°</a>
        </div>
        <% } else { %>
        <div class="hero-cta">
            <a href="/ko/leaderboards/europe" class="cta-button">ë¦¬ë”ë³´ë“œ ë³´ê¸°</a>
        </div>
        <% } %>
    </section>

    <section class="wiki-section">
        <div class="hero-image">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='500' viewBox='0 0 400 500'%3E%3Cdefs%3E%3ClinearGradient id='grad1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:rgb(0,255,200);stop-opacity:0.8' /%3E%3Cstop offset='100%25' style='stop-color:rgb(0,150,255);stop-opacity:0.8' /%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M200 50 Q350 150 300 250 Q250 350 200 450 Q150 350 100 250 Q50 150 200 50' fill='url(%23grad1)' opacity='0.3'/%3E%3Cpath d='M200 100 L250 200 L200 400 L150 200 Z' fill='url(%23grad1)'/%3E%3C/svg%3E" alt="Hero Character">
        </div>
        <div class="wiki-content">
            <h2>ë°ë“œë½ ìœ„í‚¤ëŠ” ìŠ¤í…Ÿê³¼ í”„ë¡œ ì»¨í…ì¸ ë¡œ ìš´ì˜ë©ë‹ˆë‹¤</h2>
            <p>ìš°ë¦¬ <a href="/ko/wiki" class="wiki-link">ìœ„í‚¤ë°±ê³¼</a>ì—ì„œ ê²Œì„, ì˜ì›…, ì•„ì´í…œ ë“±ì— ëŒ€í•œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´.</p>
        </div>
    </section>

    <section class="app-section">
        <h2>ìœˆë„ìš° ì•±</h2>
        <div class="app-features">
            <p>ìš°ë¦¬ ì¸ê²Œì„ ì•±ì€ ë°ë“œë½ê³¼ ì—°ë™ë˜ì–´ í”Œë ˆì´ì–´, ì˜ì›…, ë§¤ì¹˜ ì •ë³´ì— ë”°ë¼ ì‹¤ì‹œê°„ ì •ë³´ë¥¼ ì œê³µí•´.</p>
            <p>ì•±ì€ ë°¸ë¸Œ ê³µì‹ APIë¥¼ í†µí•´ ê²Œì„ê³¼ í†µì‹ í•˜ê³  ì˜¤ë²„ìš¸í”„ ê¸°ìˆ ì„ í™œìš©í•˜ê³  ìˆì§€.</p>
            <p>ì˜¤ë²„ìš¸í”„ ì•± ìŠ¤í† ì–´ì—ì„œ ìš°ë¦¬ ì•±ì„ ë‹¤ìš´ë°›ì•„ë´.</p>
        </div>
        <div class="app-partners">
            <span class="overwolf-logo">overwolf</span>
            <span class="valve-logo">VALVE</span>
        </div>
        <div class="app-stats">
            <div class="stat-item">
                <span class="stat-icon">ğŸ“¥</span>
                <span>3,756 ë‹¤ìš´ë¡œë“œ</span>
            </div>
            <div class="stat-item">
                <span class="stat-icon">âœ…</span>
                <span>ë°¸ë¸Œ ì„œë¹„ìŠ¤ ì•½ê´€ì„ ì™„ë²½íˆ ì¤€ìˆ˜í•¨</span>
            </div>
        </div>
    </section>
    
    <% if (user) { %>
    <section class="user-dashboard">
        <div class="dashboard-container">
            <h2 class="section-title">ì•ˆë…•í•˜ì„¸ìš”, <%= user.username %>ë‹˜!</h2>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>ìµœê·¼ ê²Œì„</h3>
                    <div id="recent-games">
                        <p>ìµœê·¼ ê²Œì„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
                
                <div class="dashboard-card">
                    <h3>í†µê³„ ìš”ì•½</h3>
                    <div id="stats-summary">
                        <p>í†µê³„ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
                
                <div class="dashboard-card">
                    <h3>ìˆœìœ„</h3>
                    <div id="rank-info">
                        <p>ìˆœìœ„ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
    // Load user data if logged in
    async function loadUserData() {
        try {
            // Load recent games
            const recentResponse = await fetch('/api/player/<%= user.steamId %>/recent');
            const recentData = await recentResponse.json();
            
            // Load stats
            const statsResponse = await fetch('/api/player/<%= user.steamId %>/stats');
            const statsData = await statsResponse.json();
            
            // Update UI with data
            updateRecentGames(recentData);
            updateStats(statsData);
            
        } catch (error) {
            console.error('Error loading user data:', error);
        }
    }

    function updateRecentGames(data) {
        const container = document.getElementById('recent-games');
        if (data && data.response && data.response.games) {
            const games = data.response.games.slice(0, 3);
            container.innerHTML = games.map(game => 
                '<div class="recent-game">' +
                '<span class="game-name">' + game.name + '</span>' +
                '<span class="playtime">' + Math.round(game.playtime_2weeks / 60) + 'ì‹œê°„</span>' +
                '</div>'
            ).join('');
        } else {
            container.innerHTML = '<p>ìµœê·¼ ê²Œì„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
        }
    }

    function updateStats(data) {
        const container = document.getElementById('stats-summary');
        if (data && data.playerstats) {
            container.innerHTML = '<p>ê²Œì„ í†µê³„ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.</p>';
        } else {
            container.innerHTML = '<p>í†µê³„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
        }
    }

    // Load data when page loads
    document.addEventListener('DOMContentLoaded', loadUserData);
    </script>
    <% } %>
</main>